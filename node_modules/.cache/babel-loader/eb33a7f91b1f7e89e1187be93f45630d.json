{"ast":null,"code":"import _regeneratorRuntime from\"/Users/owenosagiede/Desktop/crypto-dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/owenosagiede/Desktop/crypto-dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/owenosagiede/Desktop/crypto-dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState,useCallback}from'react';import{Line}from'react-chartjs-2';import numeral from'numeral';import'./SmallBox.css';function SmallBox(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),chartNums=_useState2[0],setChartNums=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),chartLabels=_useState4[0],setChartLabels=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),chartData=_useState6[0],setChartData=_useState6[1];var x=[];var y=[];var fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,i,_i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.coingecko.com/api/v3/coins/\".concat(props.id,\"/market_chart?vs_currency=usd&days=1\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(data&&data.prices){for(i=0;i<data.prices.length;i++){x.push(data.prices[i][0]);setChartLabels(x);}for(_i=0;_i<data.prices.length;_i++){y.push(data.prices[_i][1]);setChartNums(y);}}// eslint-disable-next-line \ncase 7:case\"end\":return _context.stop();}}},_callee);})),[props]);var chart=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchData();case 2:setChartData({labels:chartLabels,datasets:[{label:\"$\",data:chartNums,backgroundColor:[\"rgba(0,0,0,0.09)\"],borderColor:\"\".concat(props.color),borderWidth:3,borderJoinStyle:\"round\",borderCapStyle:\"round\",pointRadius:0,pointHitRadius:10,lineTension:0.2}]});case 3:case\"end\":return _context2.stop();}}},_callee2);})),[chartNums,chartLabels,fetchData,props.color]);useEffect(function(){chart();},[chart]);return/*#__PURE__*/_jsxs(\"div\",{id:props.id,className:\"smallBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"smallBox_info\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"smallBox-icon\",src:props.image,alt:props.symbol}),/*#__PURE__*/_jsx(\"h2\",{children:props.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"smallBox_numbers\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"smallBox-price\",children:[\"$ \",numeral(props.currentPrice).format('0,0.00')]}),/*#__PURE__*/_jsx(\"h5\",{className:\"smallBox-roc\",children:props.percentChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"smallBox_graph\",children:/*#__PURE__*/_jsx(Line,{data:chartData,options:{responsive:true,maintainAspectRatio:false,title:{text:'ThickBoyz',display:false},legend:{display:false},layout:{padding:{left:0,right:0,top:0,bottom:0}},scales:{xAxes:[{display:false,gridLines:{}}],yAxes:[{display:false,gridLines:{}}]},tooltips:{callbacks:{//This removes the tooltip title\ntitle:function title(){}},//this removes legend color\ndisplayColors:false,yPadding:10,xPadding:10,position:'nearest',caretSize:10,backgroundColor:'rgba(255,255,255,.9)',bodyFontSize:15,bodyFontColor:'#303030'}}})})]});}export default SmallBox;","map":{"version":3,"sources":["/Users/owenosagiede/Desktop/crypto-dash/src/SmallBox.js"],"names":["React","useEffect","useState","useCallback","Line","numeral","SmallBox","props","chartNums","setChartNums","chartLabels","setChartLabels","chartData","setChartData","x","y","fetchData","fetch","id","response","json","data","prices","i","length","push","chart","labels","datasets","label","backgroundColor","borderColor","color","borderWidth","borderJoinStyle","borderCapStyle","pointRadius","pointHitRadius","lineTension","image","symbol","title","currentPrice","format","percentChange","responsive","maintainAspectRatio","text","display","legend","layout","padding","left","right","top","bottom","scales","xAxes","gridLines","yAxes","tooltips","callbacks","displayColors","yPadding","xPadding","position","caretSize","bodyFontSize","bodyFontColor"],"mappings":"+iBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,WAArC,KAAwD,OAAxD,CACA,OAAQC,IAAR,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,SAApB,CACA,MAAO,gBAAP,CAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,eACaL,QAAQ,CAAC,EAAD,CADrB,wCACdM,SADc,eACHC,YADG,8BAEiBP,QAAQ,CAAC,EAAD,CAFzB,yCAEdQ,WAFc,eAEDC,cAFC,8BAGaT,QAAQ,CAAC,EAAD,CAHrB,yCAGdU,SAHc,eAGHC,YAHG,eAKrB,GAAMC,CAAAA,CAAC,CAAG,EAAV,CACA,GAAMC,CAAAA,CAAC,CAAG,EAAV,CAEJ,GAAMC,CAAAA,SAAS,CAAGb,WAAW,sEAAC,gLACHc,CAAAA,KAAK,kDACgBV,KAAK,CAACW,EADtB,yCADF,QACpBC,QADoB,qCAIPA,CAAAA,QAAQ,CAACC,IAAT,EAJO,QAIpBC,IAJoB,eAK1B,GAAIA,IAAI,EAAIA,IAAI,CAACC,MAAjB,CAAyB,CACvB,IAASC,CAAT,CAAa,CAAb,CAAgBA,CAAC,CAAGF,IAAI,CAACC,MAAL,CAAYE,MAAhC,CAAwCD,CAAC,EAAzC,CAA6C,CAC3CT,CAAC,CAACW,IAAF,CAAOJ,IAAI,CAACC,MAAL,CAAYC,CAAZ,EAAe,CAAf,CAAP,EACAZ,cAAc,CAACG,CAAD,CAAd,CACD,CAED,IAASS,EAAT,CAAa,CAAb,CAAgBA,EAAC,CAAGF,IAAI,CAACC,MAAL,CAAYE,MAAhC,CAAwCD,EAAC,EAAzC,CAA6C,CAC3CR,CAAC,CAACU,IAAF,CAAOJ,IAAI,CAACC,MAAL,CAAYC,EAAZ,EAAe,CAAf,CAAP,EACAd,YAAY,CAACM,CAAD,CAAZ,CACD,CACF,CACD;AAhB0B,sDAAD,GAiBxB,CAACR,KAAD,CAjBwB,CAA7B,CAmBE,GAAMmB,CAAAA,KAAK,CAAGvB,WAAW,sEAAC,+JAClBa,CAAAA,SAAS,EADS,QAGxBH,YAAY,CAAC,CACXc,MAAM,CAAEjB,WADG,CAEXkB,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,GADT,CAEER,IAAI,CAAEb,SAFR,CAGEsB,eAAe,CAAE,CAAC,kBAAD,CAHnB,CAIEC,WAAW,WAAKxB,KAAK,CAACyB,KAAX,CAJb,CAKEC,WAAW,CAAE,CALf,CAMEC,eAAe,CAAE,OANnB,CAOEC,cAAc,CAAE,OAPlB,CAQEC,WAAW,CAAE,CARf,CASEC,cAAc,CAAE,EATlB,CAUEC,WAAW,CAAE,GAVf,CADQ,CAFC,CAAD,CAAZ,CAHwB,wDAAD,GAoBtB,CAAC9B,SAAD,CAAYE,WAAZ,CAAyBM,SAAzB,CAAoCT,KAAK,CAACyB,KAA1C,CApBsB,CAAzB,CAsBA/B,SAAS,CAAC,UAAM,CACdyB,KAAK,GACN,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIE,mBACI,aAAK,EAAE,CAAEnB,KAAK,CAACW,EAAf,CAAmB,SAAS,CAAC,UAA7B,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAEX,KAAK,CAACgC,KAA1C,CAAiD,GAAG,CAAEhC,KAAK,CAACiC,MAA5D,EADJ,cAEI,oBAAKjC,KAAK,CAACkC,KAAX,EAFJ,GADJ,cAMI,aAAK,SAAS,CAAC,kBAAf,wBACI,YAAI,SAAS,CAAC,gBAAd,gBAAkCpC,OAAO,CAACE,KAAK,CAACmC,YAAP,CAAP,CAA4BC,MAA5B,CAAmC,QAAnC,CAAlC,GADJ,cAEI,WAAI,SAAS,CAAC,cAAd,UAA8BpC,KAAK,CAACqC,aAApC,EAFJ,GANJ,cAWI,YAAK,SAAS,CAAC,gBAAf,uBACI,KAAC,IAAD,EAAM,IAAI,CAAEhC,SAAZ,CAAuB,OAAO,CAAE,CAC5BiC,UAAU,CAAE,IADgB,CAE5BC,mBAAmB,CAAE,KAFO,CAG5BL,KAAK,CAAE,CAACM,IAAI,CAAE,WAAP,CAAoBC,OAAO,CAAE,KAA7B,CAHqB,CAI5BC,MAAM,CAAE,CAACD,OAAO,CAAE,KAAV,CAJoB,CAK5BE,MAAM,CAAE,CACJC,OAAO,CAAE,CACPC,IAAI,CAAE,CADC,CAEPC,KAAK,CAAE,CAFA,CAGPC,GAAG,CAAE,CAHE,CAIPC,MAAM,CAAE,CAJD,CADL,CALoB,CAa1BC,MAAM,CAAE,CACNC,KAAK,CAAE,CAAC,CACNT,OAAO,CAAE,KADH,CAENU,SAAS,CAAE,EAFL,CAAD,CADD,CAKNC,KAAK,CAAE,CAAC,CACNX,OAAO,CAAE,KADH,CAENU,SAAS,CAAE,EAFL,CAAD,CALD,CAbkB,CAuB1BE,QAAQ,CAAE,CACRC,SAAS,CAAE,CACT;AACApB,KAAK,CAAE,gBAAW,CAAE,CAFX,CADH,CAKR;AACAqB,aAAa,CAAE,KANP,CAORC,QAAQ,CAAE,EAPF,CAQRC,QAAQ,CAAE,EARF,CASRC,QAAQ,CAAE,SATF,CAURC,SAAS,CAAE,EAVH,CAWRpC,eAAe,CAAE,sBAXT,CAYRqC,YAAY,CAAE,EAZN,CAaRC,aAAa,CAAE,SAbP,CAvBgB,CAAhC,EADJ,EAXJ,GADJ,CAuDH,CAED,cAAe9D,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport {Line} from 'react-chartjs-2';\nimport numeral from 'numeral';\nimport './SmallBox.css';\n\nfunction SmallBox(props) {\n    const [chartNums, setChartNums] = useState([])\n    const [chartLabels, setChartLabels] = useState([])\n    const [chartData, setChartData] = useState({})\n\n    const x = [];\n    const y = [];\n\nconst fetchData = useCallback(async () => {\n    const response = await fetch(\n      `https://api.coingecko.com/api/v3/coins/${props.id}/market_chart?vs_currency=usd&days=1`\n    );\n    const data = await response.json();\n    if (data && data.prices) {\n      for (let i = 0; i < data.prices.length; i++) {\n        x.push(data.prices[i][0]);\n        setChartLabels(x);\n      }\n\n      for (let i = 0; i < data.prices.length; i++) {\n        y.push(data.prices[i][1]);\n        setChartNums(y);\n      }\n    }\n    // eslint-disable-next-line \n  }, [props]);\n\n  const chart = useCallback(async () => {\n    await fetchData();\n\n    setChartData({\n      labels: chartLabels,\n      datasets: [\n        {\n          label: \"$\",\n          data: chartNums,\n          backgroundColor: [\"rgba(0,0,0,0.09)\"],\n          borderColor: `${props.color}`,\n          borderWidth: 3,\n          borderJoinStyle: \"round\",\n          borderCapStyle: \"round\",\n          pointRadius: 0,\n          pointHitRadius: 10,\n          lineTension: 0.2\n        }\n      ]\n    });\n  }, [chartNums, chartLabels, fetchData, props.color]);\n\n  useEffect(() => {\n    chart();\n  }, [chart]);\n\n    return (\n        <div id={props.id} className=\"smallBox\">\n            <div className=\"smallBox_info\">\n                <img className=\"smallBox-icon\" src={props.image} alt={props.symbol}/>\n                <h2>{props.title}</h2>\n            </div>\n            \n            <div className=\"smallBox_numbers\">\n                <h2 className=\"smallBox-price\">$ {numeral(props.currentPrice).format('0,0.00')}</h2>\n                <h5 className=\"smallBox-roc\">{props.percentChange}</h5>\n            </div>\n            \n            <div className=\"smallBox_graph\">\n                <Line data={chartData} options={{\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    title: {text: 'ThickBoyz', display: false},\n                    legend: {display: false},\n                    layout: {\n                        padding: {\n                          left: 0,\n                          right: 0,\n                          top: 0,\n                          bottom: 0\n                        }\n                      },\n                      scales: {\n                        xAxes: [{\n                          display: false,\n                          gridLines: {}\n                        }],\n                        yAxes: [{\n                          display: false,\n                          gridLines: {}\n                        }]\n                      },\n                      tooltips: {\n                        callbacks: {\n                          //This removes the tooltip title\n                          title: function() {}\n                       },\n                        //this removes legend color\n                        displayColors: false,\n                        yPadding: 10,\n                        xPadding: 10,\n                        position: 'nearest',\n                        caretSize: 10,\n                        backgroundColor: 'rgba(255,255,255,.9)',\n                        bodyFontSize: 15,\n                        bodyFontColor: '#303030' \n                      },\n                    }}/>  \n            </div>\n        </div>\n    )\n}\n\nexport default SmallBox\n"]},"metadata":{},"sourceType":"module"}